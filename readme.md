# Гибкое Планирование Станков (Flexible Job Shop Scheduling)

## Описание проекта

Этот проект решает задачу гибкого планирования станков (Flexible Job Shop Scheduling Problem, FJSSP) с использованием генетического алгоритма (Genetic Algorithm, GA). Цель состоит в минимизации общего времени завершения всех операций (`makespan`) при соблюдении ограничений последовательности выполнения операций и возможностей станков.

## Содержание

1. [Описание задачи](#описание-задачи)
2. [Структура проекта](#структура-проекта)
3. [Установка зависимостей](#установка-зависимостей)
4. [Запуск программы](#запуск-программы)
5. [Пример вывода](#пример-вывода)
6. [Авторы](#авторы)

---

## Описание задачи

### Входные данные
Проект использует следующие входные данные (задаются в формате переменных в Plan_zagr.py):
- **Работы** (`jobs`): список работ, которые нужно выполнить.
- **Операции** (`job_operations`): для каждой работы указан порядок операций.
- **Станки** (`machines`): доступные станки для выполнения операций.
- **Время обработки** (`processing_times`): время выполнения каждой операции на каждом из допустимых станков.

### Выходные данные
Программа выдает оптимальное расписание выполнения операций, минимизирующее общее время завершения всех операций (`makespan`). Результат включает:
- Последовательность выполнения операций.
- Назначение станков для каждой операции.
- Время начала и окончания каждой операции.

---

## Структура проекта

```
project/
│
├── pars_tech.py          # Скрипт для парсинга входных данных из Excel
├── main.py               # Основной скрипт с реализацией генетического алгоритма
├── Рычаг.xls             # Пример входного файла с данными о работах и операциях
└── README.md             # Документация проекта
```

---

## Установка зависимостей

Для работы с проектом необходимо установить следующие зависимости:

```bash
pip install numpy deap pandas openpyxl matplotlib
```

- **`numpy`**: для числовых вычислений.
- **`deap`**: библиотека для реализации генетических алгоритмов.
- **`pandas`**: для обработки данных из Excel.
- **`openpyxl`**: для чтения `.xlsx` файлов.
- **`matplotlib`**: для визуализации результатов.

---

## Запуск программы

### Шаг 1: Подготовка данных
Убедитесь, что входной файл (например, `Рычаг.xls`) содержит корректные данные в формате:
- Наименование операции.
- Доступные станки и время обработки.
- наличие столбика "P" с количеством деталей в партии на ТТН как примере Рычаг.xls

### Шаг 2: Запуск скрипта
Запустите основной скрипт `plan_zagr.py`:

```bash
python main.py
```

### Настройка параметров
Вы можете настроить параметры генетического алгоритма в начале файла `plan_zagr.py`:
- `population_size`: размер популяции (по умолчанию 500).
- `generations`: количество поколений (по умолчанию 500).
- `cxpb`: вероятность скрещивания (по умолчанию 0.9).
- `mutpb`: вероятность мутации (по умолчанию 0.5).

---

## Пример вывода

После завершения работы программы вы получите следующий вывод:

```
Лучший найденный Makespan: 2.50
--- Лучшее расписание (детали) ---
Операция (Фланец, O1) на Токарный: Начало=0.00, Конец=0.80
Операция (Прокладка, O1) на Фрезерный: Начало=0.80, Конец=1.40
Операция (Болт, O1) на Токарный: Начало=1.40, Конец=1.80
...
```

Также будет построена диаграмма Ганта, визуализирующая расписание выполнения операций.

---

## Авторы

- **Барулин Максим Алексеевич** — разработка и реализация.


---

Если у вас есть вопросы или предложения по улучшению проекта, пожалуйста, свяжитесь со мной.
